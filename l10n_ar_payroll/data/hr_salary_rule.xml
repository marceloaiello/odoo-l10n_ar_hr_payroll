<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">
        <!-- Haberes y Descuentos: 10.000 - 10.999 -->
        <record id="rules_BASIC_HOURS" model="hr.salary.rule">
            <field name="name">HORAS NORMALES</field>
            <field name="code">BASIC_HOURS</field>
            <field name="sequence">10100</field>
            <field name="category_id" ref="l10n_ar_payroll.categories_BASIC" />
            <field name="active">true</field>
            <field name="appears_on_payslip">true</field>
            <field name="note">Sueldo basico del trabajador por convenio, contrato o CCT.</field>
            <!-- Condition Select -->
            <field name="condition_select">none</field>
            <!-- Amount Select -->
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
result_qty = worked_days.WORK100.number_of_hours
result = contract.amount
            </field>
        </record>

        <record id="rules_BASIC" model="hr.salary.rule">
            <field name="name">SUELDO BASICO</field>
            <field name="code">BASIC</field>
            <field name="sequence">10100</field>
            <field name="category_id" ref="l10n_ar_payroll.categories_BASIC" />
            <field name="active">true</field>
            <field name="appears_on_payslip">true</field>
            <field name="note">Sueldo basico del trabajador por convenio o CCT.</field>
            <!-- Condition Select -->
            <field name="condition_select">none</field>
            <!-- Amount Select -->
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
result = contract.amount
            </field>
        </record>

        <record id="rules_SAC" model="hr.salary.rule">
            <field name="name">S.A.C</field>
            <field name="code">SAC</field>
            <field name="sequence">10101</field>
            <field name="category_id" ref="l10n_ar_payroll.categories_SAC" />
            <field name="active">true</field>
            <field name="appears_on_payslip">true</field>
            <field name="note">Base imponible para el calculo de la cuota de SAC. Mejor sueldo del trabajador / 2.</field>
            <!-- Condition Select -->
            <field name="condition_select">none</field>
            <!-- Amount Select -->
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
result = ((inputs.SACBASE / 2) / 180) * inputs.SACDAYS
            </field>
        </record>
        <record id="payslip_inputs_SACBASE" model="hr.rule.input">
            <field name="name">Mejor Sueldo Semestral - S.A.C</field>
            <field name="code">SACBASE</field>
            <field name="input_id" ref="l10n_ar_payroll.rules_SAC" /> <!-- TODO: Calcular mejor sueldo -->
        </record>
        <record id="payslip_inputs_SACWORKDAYS" model="hr.rule.input">
            <field name="name">Dias Trabajados - S.A.C</field>
            <field name="code">SACDAYS</field>
            <field name="input_id" ref="l10n_ar_payroll.rules_SAC" /> <!-- TODO: Calcular Dias -->
        </record>

        <record id="rules_ANTG" model="hr.salary.rule">
            <field name="name">ANTIGUEDAD</field>
            <field name="code">ANTG</field>
            <field name="sequence">10102</field>
            <field name="category_id" ref="l10n_ar_payroll.categories_ADIC" />
            <field name="active">true</field>
            <field name="appears_on_payslip">true</field>
            <field name="note">Extra por antiguedad del trabajador.</field>
            <!-- Condition Select -->
            <field name="condition_select">range</field>
            <field name="condition_range">employee.service_duration_years</field>
            <field name="condition_range_min">1</field>
            <field name="condition_range_max">999</field>
            <!-- Amount Select -->
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
                result_rate = 1.00
                result_qty = employee.service_duration_years
                result = categories_BASIC
            </field>
        </record>

        <record id="rules_HFRD" model="hr.salary.rule">
            <field name="name">FERIADOS</field>
            <field name="code">HFRD</field>
            <field name="sequence">10105</field>
            <field name="category_id" ref="l10n_ar_payroll.categories_BASIC" />
            <field name="active">true</field>
            <field name="appears_on_payslip">true</field>
            <field name="note">Feriados y dias festivos discriminados.</field>
            <!-- Condition Select -->
            <field name="condition_select">range</field>
            <field name="condition_range">worked_days.HFRD.number_of_days</field>
            <field name="condition_range_min">1</field>
            <field name="condition_range_max">999</field>
            <!-- Amount Select -->
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
                if contract.is_wage_accurate:
                    result_qty = worked_days.HFRD.number_of_days
                    result = contract.wage / worked_days.WORK100.number_of_days
                else:
                    result_qty = worked_days.HFRD.number_of_hours
                    result = contract.amount
            </field>
        </record>

        <record id="rules_AUS" model="hr.salary.rule">
            <field name="name">AUSENTISMO</field>
            <field name="code">AUS</field>
            <field name="sequence">10110</field>
            <field name="quantity">field_value</field>
            <field name="category_id" ref="l10n_ar_payroll.categories_BASIC" />
            <field name="active">true</field>
            <field name="appears_on_payslip">true</field>
            <field name="note">Descuentos de horas / dias por ausentismo del trabajador.</field>
            <field name="parent_rule_id"></field>
            <!-- Condition Select -->
            <field name="condition_select">range</field>
            <field name="condition_range">worked_days.WORK0.number_of_days</field>
            <field name="condition_range_min">1</field>
            <field name="condition_range_max">999</field>
            <!-- Amount Select -->
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
                if not contract.is_wage_accurate:
                    result_qty = -(worked_days.WORK0.number_of_hours)
                    result = contract.amount
                else:
                    result_qty = -(worked_days.WORK0.number_of_days)
                    result = contract.wage / worked_days.WORK100.number_of_days
            </field>
        </record>

        <record id="rules_OVT50" model="hr.salary.rule">
            <field name="name">HORAS EXTRA AL 50%</field>
            <field name="code">OVT50</field>
            <field name="sequence">10120</field>
            <field name="category_id" ref="l10n_ar_payroll.categories_EXT" />
            <field name="active">true</field>
            <field name="appears_on_payslip">true</field>
            <field name="note">Horas extra devengadas en el periodo pagadas al 50% (150%).</field>
            <!-- Condition Select -->
            <field name="condition_select">range</field>
            <field name="condition_range">worked_days.OVT50.number_of_hours</field>
            <field name="condition_range_min">1</field>
            <field name="condition_range_max">999</field>
            <!-- Amount Select -->
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
                result_rate = 150.00
                if not contract.is_wage_accurate:
                    result_qty = worked_days.OVT50.number_of_hours
                    result = contract.amount
                else:
                    result_qty = worked_days.OVT50.number_of_days
                    result = contract.wage / worked_days.WORK100.number_of_days
                <!-- TODO: Ver como se calcula en mensuales -->
            </field>
        </record>

        <record id="rules_OVT100" model="hr.salary.rule">
            <field name="name">HORAS EXTRA AL 100%</field>
            <field name="code">OVT100</field>
            <field name="sequence">10122</field>
            <field name="category_id" ref="l10n_ar_payroll.categories_EXT" />
            <field name="active">true</field>
            <field name="appears_on_payslip">true</field>
            <field name="note">Horas extra devengadas en el periodo pagadas al 100% (200%).</field>
            <!-- Condition Select -->
            <field name="condition_select">range</field>
            <field name="condition_range">worked_days.OVT50.number_of_hours</field>
            <field name="condition_range_min">1</field>
            <field name="condition_range_max">999</field>
            <!-- Amount Select -->
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
                result_rate = 200.00
                if not contract.is_wage_accurate:
                    result_qty = worked_days.OVT100.number_of_hours
                    result = contract.amount
                else:
                    result_qty = worked_days.OVT100.number_of_days
                    result = contract.wage / contract.work_days_per_month
                <!-- TODO: Ver como se calcula en mensuales -->
            </field>
        </record>

        <record id="rules_PRES" model="hr.salary.rule">
            <field name="name">PREMIO PRESENTISMO</field>
            <field name="code">PRES</field>
            <field name="sequence">10130</field>
            <field name="category_id" ref="l10n_ar_payroll.categories_PREM" />
            <field name="active">true</field>
            <field name="appears_on_payslip">true</field>
            <field name="note">Premio por presentismo perfecto.</field>
            <!-- Parametrizacion de Logica -->
            <field name="condition_select">range</field>
            <field name="condition_range">worked_days.NOWORK100.number_of_days</field>
            <field name="condition_range_min">0</field>
            <field name="condition_range_max">0</field>
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
                if contract.schedule_pay == 'bi-weekly':
                    result = 2000.0
                <!-- TODO: Ver si es posible parametrizar esto en algun lado, ya que el presentismo es comun -->
                else:
                    result = 4000.0
            </field>
        </record>
        <record id="payslip_inputs_PRES-OVR" model="hr.rule.input">
            <field name="name">Presentismo Manual</field>
            <field name="code">PRES-OVR</field>
            <field name="input_id" ref="l10n_ar_payroll.rules_PRES" />
        </record>

        <!-- Retenciones: 20.000 - 20.999 -->
        <record id="rules_AFIP-JUB11" model="hr.salary.rule">
            <field name="name">APORTES JUBILATORIOS</field>
            <field name="code">JUB11</field>
            <field name="sequence">20100</field>
            <field name="category_id" ref="l10n_ar_payroll.categories_RET" />
            <field name="register_id" ref="l10n_ar_payroll.contribution_register_AFIP-JUB" />
            <field name="active">true</field>
            <field name="appears_on_payslip">true</field>
            <field name="note">Retencion y descuento de aportes destinados a (AFIP) JUBILACION.</field>
            <!-- Condition Select -->
            <field name="condition_select">none</field>
            <!-- Amount Select -->
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
                result_rate = -11.00
                result = categories_GROSS
            </field>
        </record>

        <record id="rules_AFIP-INSSJP3" model="hr.salary.rule">
            <field name="name">LEY 19.032 - INSSJP</field>
            <field name="code">INSSJP3</field>
            <field name="sequence">20110</field>
            <field name="category_id" ref="l10n_ar_payroll.categories_RET" />
            <field name="register_id" ref="l10n_ar_payroll.contribution_register_AFIP-INSSJP" />
            <field name="active">true</field>
            <field name="appears_on_payslip">true</field>
            <field name="note">Retencion y descuento de aportes destinados a (AFIP) LEY19032 INSSJP.</field>
            <!-- Condition Select -->
            <field name="condition_select">none</field>
            <!-- Amount Select -->
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
                result_rate = -3.00
                result = categories_GROSS
            </field>
        </record>

        <record id="rules_AFIP-OS3" model="hr.salary.rule">
            <field name="name">APORTES OBRA SOCIAL</field>
            <field name="code">OS3</field>
            <field name="sequence">20120</field>
            <field name="category_id" ref="l10n_ar_payroll.categories_RET" />
            <field name="register_id" ref="l10n_ar_payroll.contribution_register_AFIP-OS" />
            <field name="active">true</field>
            <field name="appears_on_payslip">true</field>
            <field name="note">Retencion y descuento de aportes destinados a (AFIP) OBRAS SOCALES.</field>
            <!-- Condition Select -->
            <field name="condition_select">none</field>
            <!-- Amount Select -->
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
                result_rate = -3.00
                result = categories_GROSS
            </field>
        </record>

        <!-- Deducciones: 30.000 - 30.999 -->
        <record id="rules_ADV" model="hr.salary.rule">
            <field name="name">ADELANTOS OTORGADOS</field>
            <field name="code">ADV</field>
            <field name="sequence">30100</field>
            <field name="category_id" ref="l10n_ar_payroll.categories_DED" />
            <field name="active">true</field>
            <field name="appears_on_payslip">true</field>
            <field name="note">Descuento de adelanntos, vales, otorgados con anterioridad a la fecha de pago en el periodo indicado.</field>
            <!-- Condition Select -->
            <field name="condition_select">none</field>
            <!-- Amount Select -->
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
                result = -(inputs.ADV)
            </field>
        </record>
        <record id="payslip_inputs_ADV-AMOUNT" model="hr.rule.input">
            <field name="name">Importe Adelantos (a descontar)</field>
            <field name="code">ADV-AMOUNT</field>
            <field name="input_id" ref="l10n_ar_payroll.rules_ADV" />
        </record>

        <record id="rules_LOAN" model="hr.salary.rule">
            <field name="name">PLANES PRESTAMOS OTORGADOS</field>
            <field name="code">LOAN</field>
            <field name="sequence">30200</field>
            <field name="category_id" ref="l10n_ar_payroll.categories_DED" />
            <field name="active">true</field>
            <field name="appears_on_payslip">true</field>
            <field name="note">Descuento de cuotas de prestamos, acuerdos, y/o devoluciones financiadas de adelantos de sueldo.</field>
            <!-- Condition Select -->
            <field name="condition_select">none</field>
            <!-- Amount Select -->
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
                result = -(inputs.LOAN)
            </field>
        </record>
        <record id="payslip_inputs_LOAN-AMOUNT" model="hr.rule.input">
            <field name="name">Importe Prestamos (a descontar)</field>
            <field name="code">LOAN-AMOUNT</field>
            <field name="input_id" ref="l10n_ar_payroll.rules_LOAN" />
        </record>

        <record id="rules_EMBG-JUD" model="hr.salary.rule">
            <field name="name">EMBARGOS JUDICIALES</field>
            <field name="code">EMBG-JUD</field>
            <field name="sequence">30900</field>
            <field name="category_id" ref="l10n_ar_payroll.categories_DED" />
            <field name="register_id" ref="l10n_ar_payroll.contribution_register_JUD-EMBG" />
            <field name="active">true</field>
            <field name="appears_on_payslip">true</field>
            <field name="note">Embargos judiciales. Calculados sobre el neto a cobrar por el trabajdor pagaderos al exp. de referencia.</field>
            <!-- Condition Select -->
            <field name="condition_select">none</field>
            <!-- Amount Select -->
            <field name="amount_select">code</field>
            <field name="amount_python_compute">
                result_rate = -(inputs.EMBG-RATE)
                result = categories_NET
            </field>
        </record>
        <record id="payslip_inputs_EMBG-RATE" model="hr.rule.input">
            <field name="name">Porcentual de Embargos</field>
            <field name="code">EMBG-RATE</field>
            <field name="input_id" ref="l10n_ar_payroll.rules_EMBG-JUD" />
        </record>

    </data>
</odoo>
